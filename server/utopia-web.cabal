cabal-version: 1.12

-- This file has been generated from package.yaml by hpack version 0.34.6.
--
-- see: https://github.com/sol/hpack

name:           utopia-web
version:        0.1.1.0
synopsis:       Utopia Web
description:    Utopia Web
category:       Development
homepage:       https://github.com/concrete-utopia/utopia#readme
bug-reports:    https://github.com/concrete-utopia/utopia/issues
license:        MIT
build-type:     Simple

source-repository head
  type: git
  location: https://github.com/concrete-utopia/utopia

flag enable-external-tests
  description: Enable the external tests.
  manual: True
  default: True

executable utopia-web
  main-is: Main.hs
  other-modules:
      Utopia.Web.Assets
      Utopia.Web.Auth
      Utopia.Web.Auth.Github
      Utopia.Web.Auth.Session
      Utopia.Web.Auth.Types
      Utopia.Web.Database
      Utopia.Web.Database.Migrations
      Utopia.Web.Database.Types
      Utopia.Web.Editor.Branches
      Utopia.Web.Endpoints
      Utopia.Web.Exceptions
      Utopia.Web.Executors.Common
      Utopia.Web.Executors.Development
      Utopia.Web.Executors.Production
      Utopia.Web.Github
      Utopia.Web.Github.Types
      Utopia.Web.JSON
      Utopia.Web.Logging
      Utopia.Web.Metrics
      Utopia.Web.Packager.Locking
      Utopia.Web.Packager.NPM
      Utopia.Web.Proxy
      Utopia.Web.Servant
      Utopia.Web.ServantMonitoring
      Utopia.Web.Server
      Utopia.Web.ServiceTypes
      Utopia.Web.Types
      Utopia.Web.Utils.Files
      Paths_utopia_web
  hs-source-dirs:
      src
  default-extensions:
      Strict
      StrictData
      NoImplicitPrelude
  ghc-options: -Wall -Werror -threaded -fno-warn-orphans -Wno-unused-imports -Wno-deprecations -rtsopts
  extra-libraries:
      z
  build-depends:
      JuicyPixels
    , aeson <2.1
    , aeson-pretty
    , amazonka ==1.6.1
    , amazonka-core ==1.6.1
    , amazonka-s3 ==1.6.1
    , base >=4.7 && <5
    , base16-bytestring
    , base64
    , binary
    , blaze-html
    , bytestring
    , case-insensitive
    , cereal
    , concurrent-extra
    , conduit
    , containers
    , cookie
    , cryptohash-sha256
    , cryptonite
    , data-default
    , directory
    , exceptions
    , fast-logger
    , filepath
    , free
    , generic-lens
    , github
    , hashable
    , hoauth2 ==1.16.0
    , http-api-data
    , http-client
    , http-client-tls
    , http-media
    , http-types
    , lens
    , lens-aeson <1.2
    , lifted-async
    , lifted-base
    , mime
    , mime-types
    , modern-uri
    , monad-control
    , monad-logger
    , mtl
    , network-uri
    , opaleye
    , opaleye-trans
    , path
    , path-pieces
    , pathwalk
    , postgresql-simple
    , postgresql-simple-migration
    , process
    , product-profunctors
    , protolude ==0.3.0
    , resource-pool
    , rio
    , servant ==0.18.3
    , servant-blaze
    , servant-client ==0.18.3
    , servant-conduit
    , servant-rawm-client
    , servant-rawm-server
    , servant-server ==0.18.3
    , servant-websockets ==2.0.0
    , serversession ==1.0.2
    , split
    , string-conversions
    , tagsoup
    , tar
    , temporary
    , text
    , time
    , time-manager
    , transformers
    , unix
    , unordered-containers
    , uri-bytestring
    , utopia-clientmodel
    , uuid
    , vector
    , wai
    , wai-app-static
    , wai-extra ==3.1.6
    , wai-websockets
    , warp
    , websockets
    , wreq
    , zlib
  default-language: Haskell2010

test-suite utopia-web-test
  type: exitcode-stdio-1.0
  main-is: Main.hs
  other-modules:
      Test.Utopia.Web.Endpoints
      Test.Utopia.Web.Executors.Test
      Test.Utopia.Web.Packager.NPM
      Test.Utopia.Web.Servant
      Main
      Utopia.Web.Assets
      Utopia.Web.Auth
      Utopia.Web.Auth.Github
      Utopia.Web.Auth.Session
      Utopia.Web.Auth.Types
      Utopia.Web.Database
      Utopia.Web.Database.Migrations
      Utopia.Web.Database.Types
      Utopia.Web.Editor.Branches
      Utopia.Web.Endpoints
      Utopia.Web.Exceptions
      Utopia.Web.Executors.Common
      Utopia.Web.Executors.Development
      Utopia.Web.Executors.Production
      Utopia.Web.Github
      Utopia.Web.Github.Types
      Utopia.Web.JSON
      Utopia.Web.Logging
      Utopia.Web.Metrics
      Utopia.Web.Packager.Locking
      Utopia.Web.Packager.NPM
      Utopia.Web.Proxy
      Utopia.Web.Servant
      Utopia.Web.ServantMonitoring
      Utopia.Web.Server
      Utopia.Web.ServiceTypes
      Utopia.Web.Types
      Utopia.Web.Utils.Files
      Paths_utopia_web
  hs-source-dirs:
      test
      src
  default-extensions:
      Strict
      StrictData
      NoImplicitPrelude
  ghc-options: -Wall -Werror -threaded -fno-warn-orphans -Wno-unused-imports -Wno-deprecations -rtsopts +RTS -N1 -RTS
  extra-libraries:
      z
  build-depends:
      JuicyPixels
    , aeson <2.1
    , aeson-pretty
    , amazonka ==1.6.1
    , amazonka-core ==1.6.1
    , amazonka-s3 ==1.6.1
    , base >=4.7 && <5
    , base16-bytestring
    , base64
    , binary
    , blaze-html
    , bytestring
    , case-insensitive
    , cereal
    , concurrent-extra
    , conduit
    , containers
    , cookie
    , cryptohash-sha256
    , cryptonite
    , data-default
    , directory
    , exceptions
    , fast-logger
    , filepath
    , free
    , generic-lens
    , github
    , hashable
    , hedgehog
    , hoauth2 ==1.16.0
    , hspec
    , http-api-data
    , http-client
    , http-client-tls
    , http-media
    , http-types
    , lens
    , lens-aeson <1.2
    , lifted-async
    , lifted-base
    , mime
    , mime-types
    , modern-uri
    , monad-control
    , monad-logger
    , mtl
    , network-uri
    , opaleye
    , opaleye-trans
    , path
    , path-pieces
    , pathwalk
    , port-utils
    , postgresql-simple
    , postgresql-simple-migration
    , process
    , product-profunctors
    , protolude ==0.3.0
    , random
    , resource-pool
    , rio
    , servant ==0.18.3
    , servant-blaze
    , servant-client ==0.18.3
    , servant-client-core
    , servant-conduit
    , servant-rawm-client
    , servant-rawm-server
    , servant-server ==0.18.3
    , servant-websockets ==2.0.0
    , serversession ==1.0.2
    , split
    , string-conversions
    , tagsoup
    , tar
    , tasty
    , tasty-hedgehog
    , tasty-hspec
    , tasty-hunit
    , temporary
    , text
    , time
    , time-manager
    , transformers
    , unix
    , unordered-containers
    , uri-bytestring
    , utopia-clientmodel
    , uuid
    , vector
    , wai
    , wai-app-static
    , wai-extra ==3.1.6
    , wai-websockets
    , warp
    , websockets
    , wreq
    , zlib
  if flag(enable-external-tests)
    cpp-options: -DENABLE_EXTERNAL_TESTS=True
  else
    cpp-options: -DENABLE_EXTERNAL_TESTS=False
  default-language: Haskell2010
